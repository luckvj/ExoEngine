import{j as s}from"./markdown-DyKRzreE.js";import{r as l,d as V}from"./react-vendor-BrsWO7iZ.js";import{v as I,k as U,f as w,u as B,o as g,n as G,p as z}from"./galaxy-DVJjGVLR.js";import{C as H}from"./index-BJ86MllY.js";import"./builder-B7mi84rt.js";import"./utils-Cl4ySqJD.js";function Q(){const[a,c]=l.useState("ACCOUNT"),n=I(),x=V(),[o,i]=l.useState(!1),[j,p]=l.useState(!1),[C,k]=l.useState("7.3.0.1"),{maxSynergies:u,setMaxSynergies:A,organizedGalaxy:N,toggleOrganizedGalaxy:S,performanceMode:m,setPerformanceMode:h,customCursor:v,toggleCustomCursor:O,showFps:b,toggleShowFps:M,immersiveMode:f,toggleImmersiveMode:T}=U(),{logout:D}=w(),{setLoading:y}=B(),[r,t]=l.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"info"});l.useEffect(()=>{(async()=>{try{const d=await g.getManifestVersion();d&&k(d)}catch(d){G("Settings","Manifest version load failed:",d)}})()},[]);const L=async()=>{i(!0);try{await g.clearManifest(),n.success("Manifest cleared. Reloading..."),setTimeout(()=>window.location.reload(),1e3)}catch{n.error("Failed to clear manifest")}finally{i(!1)}},F=async()=>{t({isOpen:!0,title:"CLEAR CACHE?",message:"This will clear cached profile data. You will need to re-sync with Bungie servers. Continue?",onConfirm:async()=>{t(e=>({...e,isOpen:!1})),i(!0);try{await g.clearProfileCache(),n.success("Cache cleared successfully")}catch{n.error("Failed to clear cache")}finally{i(!1)}},type:"info"})},P=async()=>{t({isOpen:!0,title:"WIPE ALL DATA?",message:"This will wipe all local data, including settings, manifest, and all saved ExoEngine builds. This is a total reset. Continue?",onConfirm:async()=>{t(e=>({...e,isOpen:!1})),i(!0);try{await g.clearAll(),n.success("All data wiped. Redirecting..."),setTimeout(()=>{window.location.href="/"},1e3)}catch{n.error("Failed to clear data")}finally{i(!1)}},type:"danger"})},E=async()=>{p(!0);try{y(!0),w.getState().membership&&(await z.loadProfile(!0),n.success("Profile synced successfully"))}catch{n.error("Failed to sync profile")}finally{p(!1),y(!1)}},$=async()=>{t({isOpen:!0,title:"LOGOUT?",message:"Are you sure you want to logout of your current session?",onConfirm:async()=>{t(e=>({...e,isOpen:!1}));try{await D(),n.success("Logged out successfully")}catch{n.error("Failed to logout")}},type:"info"})},R=()=>{x("/")};return s.jsxs("div",{className:"settings-container",children:[s.jsxs("div",{className:"settings-sidebar",children:[s.jsx("button",{className:`settings-nav-btn ${a==="ACCOUNT"?"settings-nav-btn--active":""}`,onClick:()=>c("ACCOUNT"),children:"Account"}),s.jsx("button",{className:`settings-nav-btn ${a==="DISPLAY"?"settings-nav-btn--active":""}`,onClick:()=>c("DISPLAY"),children:"Display"}),s.jsx("button",{className:`settings-nav-btn ${a==="DATA"?"settings-nav-btn--active":""}`,onClick:()=>c("DATA"),children:"Data & Cache"}),s.jsx("button",{className:`settings-nav-btn ${a==="ABOUT"?"settings-nav-btn--active":""}`,onClick:()=>c("ABOUT"),children:"About"})]}),s.jsxs("div",{className:"settings-content",children:[a==="DISPLAY"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:"settings-category-header",children:s.jsx("span",{className:"settings-category-title",children:"Display Settings"})}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Synergy Display Limit"}),s.jsx("span",{className:"settings-row-description",children:"Maximum number of synergies shown at once in the Galaxy"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsxs("div",{className:"d2-slider-container",children:[s.jsx("input",{id:"max-synergies-slider",name:"max-synergies-slider",type:"range",min:"5",max:"100",step:"5",value:u,onChange:e=>A(parseInt(e.target.value)),className:"d2-slider"}),s.jsx("span",{className:"d2-slider-value",children:u})]})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Organized Galaxy Layout"}),s.jsx("span",{className:"settings-row-description",children:"Sorts weapons and armor into columns instead of a random scatter"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:`d2-toggle-btn ${N?"d2-toggle-btn--active":""}`,onClick:S,children:N?"ON":"OFF"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Immersive Mode"}),s.jsx("span",{className:"settings-row-description",children:'Adds parallax and drift effects for a "flying through space" feel'})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:`d2-toggle-btn ${f?"d2-toggle-btn--active":""}`,onClick:T,children:f?"ON":"OFF"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Custom Destiny Cursor"}),s.jsx("span",{className:"settings-row-description",children:"Toggle the Destiny-themed custom cursor"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:`d2-toggle-btn ${v?"d2-toggle-btn--active":""}`,onClick:O,children:v?"ON":"OFF"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Show FPS Counter"}),s.jsx("span",{className:"settings-row-description",children:"Display performance metrics in the bottom-left corner"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:`d2-toggle-btn ${b?"d2-toggle-btn--active":""}`,onClick:M,children:b?"ON":"OFF"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Performance Mode"}),s.jsx("span",{className:"settings-row-description",children:"Adjust visual quality and rendering distance"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsxs("div",{className:"settings-button-group",children:[s.jsx("button",{className:`d2-keybind-btn ${m==="low"?"d2-keybind-btn--active":""}`,onClick:()=>h("low"),children:"Low"}),s.jsx("button",{className:`d2-keybind-btn ${m==="medium"?"d2-keybind-btn--active":""}`,onClick:()=>h("medium"),children:"Medium"}),s.jsx("button",{className:`d2-keybind-btn ${m==="high"?"d2-keybind-btn--active":""}`,onClick:()=>h("high"),children:"High"})]})})]})]}),a==="DATA"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:"settings-category-header",children:s.jsx("span",{className:"settings-category-title",children:"Data Management"})}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Refresh Manifest"}),s.jsx("span",{className:"settings-row-description",children:"Update game database and definitions"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",onClick:L,disabled:o,children:o?"Wait...":"Refresh"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Clear Profile Cache"}),s.jsx("span",{className:"settings-row-description",children:"Remove cached character and inventory data"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",onClick:F,disabled:o,children:"Clear Cache"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Reset All Data"}),s.jsx("span",{className:"settings-row-description",children:"Clear all application data and settings"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",style:{borderColor:"#ff4444",color:"#ff4444"},onClick:P,disabled:o,children:"Reset All"})})]})]}),a==="ACCOUNT"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:"settings-category-header",children:s.jsx("span",{className:"settings-category-title",children:"Account Management"})}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Change Character"}),s.jsx("span",{className:"settings-row-description",children:"Return to character selection screen"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",onClick:R,children:"Select Character"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Sync Profile"}),s.jsx("span",{className:"settings-row-description",children:"Force refresh character and inventory data"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",onClick:E,disabled:j,children:j?"Syncing...":"Sync Now"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Logout"}),s.jsx("span",{className:"settings-row-description",children:"Sign out of your Bungie account"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",style:{borderColor:"#ff4444",color:"#ff4444"},onClick:$,children:"Logout"})})]})]}),a==="ABOUT"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:"settings-category-header",children:s.jsx("span",{className:"settings-category-title",children:"System Information"})}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Developer"}),s.jsx("span",{className:"settings-row-description",children:"Visit developer profile on GitHub"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("a",{href:"https://github.com/luckvj/ExoEngine",target:"_blank",className:"d2-keybind-btn",style:{textDecoration:"none"},children:"Vj"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Credits"}),s.jsx("span",{className:"settings-row-description",children:"View all contributors and acknowledgments"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("button",{className:"d2-keybind-btn",onClick:()=>x("/credits"),children:"View Credits"})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Game Build"}),s.jsx("span",{className:"settings-row-description",children:"Destiny 2 version compatibility"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("span",{className:"settings-row-label",children:C})})]}),s.jsxs("div",{className:"settings-row",children:[s.jsxs("div",{children:[s.jsx("span",{className:"settings-row-label",children:"Version"}),s.jsx("span",{className:"settings-row-description",children:"Current application version"})]}),s.jsx("div",{className:"settings-row-control",children:s.jsx("span",{className:"settings-row-label",children:"1.5.0"})})]}),s.jsx("div",{className:"settings-category-header",style:{marginTop:"40px"},children:s.jsx("span",{className:"settings-category-title",children:"Legal"})}),s.jsx("div",{style:{padding:"16px",color:"rgba(255,255,255,0.4)",fontSize:"12px",lineHeight:"1.6"},children:"ExoEngine is a fan-made application. Destiny 2, Bungie, and all related assets are trademarks of Bungie, Inc."})]})]}),s.jsx(H,{isOpen:r.isOpen,title:r.title,message:r.message,onConfirm:r.onConfirm,onCancel:()=>t(e=>({...e,isOpen:!1})),type:r.type})]})}export{Q as SettingsPage,Q as default};
//# sourceMappingURL=SettingsPage-kJSLDwbV.js.map
